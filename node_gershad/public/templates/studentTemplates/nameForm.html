<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Gershad Map Component" />
  <meta name="author" content="" />

  <title>GERSHAD</title>

  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Arimo:400,700,400italic">
  <link rel="stylesheet" href="assets/css/fonts/linecons/css/linecons.css">
  <link rel="stylesheet" href="assets/css/fonts/fontawesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="assets/css/bootstrap.css">
  <link rel="stylesheet" href="assets/css/xenon-core.css">
  <link rel="stylesheet" href="assets/css/xenon-forms.css">
  <link rel="stylesheet" href="assets/css/xenon-components.css">
  <link rel="stylesheet" href="assets/css/xenon-skins.css">
  <link rel="stylesheet" href="assets/css/custom.css">
<link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css" rel="stylesheet">
 <script src="assets/js/jquery-1.11.1.min.js"></script>

  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
  <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #map {

            display: block;
            margin-top: -18px;

        }

        @media all and (orientation:portrait) {
          /* Styles for Portrait screen */
          #map{
            min-height: 451px;
          }
          #destination-input{
            left: 8px !important;
            top: 40px !important;
            width:89% !important;
          }
          #origin-input{
            left: 2% !important;
            margin-top: 1px;
            top: 0px;
            width: 89% !important;
            height: 8%;
          }
        

        }
        @media all and (orientation:landscape) {
          /* Styles for Landscape screen */
          #map{
            min-height: 233px;
          }
        }

        @media (min-width:1000px) {
          #map{
            min-height: 520px;
          }
        }

        .controls {
            margin-top: 10px;
            border: 1px solid transparent;
            border-radius: 2px 0 0 2px;
            box-sizing: border-box;
            -moz-box-sizing: border-box;
            height: 32px;
            outline: none;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
        }

        #origin-input,
        #destination-input {
            background-color: #fff;
            font-family: Roboto;
            font-size: 15px;
            font-weight: 300;
            margin-left: 12px;
            padding: 0 11px 0 13px;
            text-overflow: ellipsis;
            width: 200px;
        }

        #origin-input{
          left: 20px;
          top: 0px;
          width: 40%;
          height: 8%;
        }

        #destination-input {
          top: 42px;*/
          left: 544px;
          width: 40%;
          top: 0px;
          height: 8%;
        }

        #origin-input:focus,
        #destination-input:focus {
            border-color: #4d90fe;
        }

        #mode-selector {
            color: #fff;
            background-color: #4d90fe;
            margin-left: 12px;
            padding: 5px 11px 0px 11px;
        }

        #mode-selector label {
            font-family: Roboto;
            font-size: 13px;
            font-weight: 300;
        }
    </style>


</head>
<body class="page-body">

  <div class="settings-pane">
      
    <a href="#" data-toggle="settings-pane" data-animate="true">
      &times;
    </a>
    
    <div class="settings-pane-inner">
      
      <div class="row">
        
        <div class="col-md-4">
          
          <div class="user-info">

            
            <div class="user-image">
              <a href="extra-profile.html">
                <img src="assets/images/user-2.png" class="img-responsive img-circle" />
              </a>
            </div>
            
            <div class="user-details">
              
              <h3>
                <a href="extra-profile.html">John Smith</a>
                
                <!-- Available statuses: is-online, is-idle, is-busy and is-offline -->
                <span class="user-status is-online"></span>
              </h3>
              
              <p class="user-title">Web Developer</p>
              
              <div class="user-links">
                <a href="extra-profile.html" class="btn btn-primary">Edit Profile</a>
                <a href="extra-profile.html" class="btn btn-success">Upgrade</a>
              </div>
              
            </div>
            
          </div>
          
        </div>
        
        <div class="col-md-8 link-blocks-env">
          
          <div class="links-block left-sep">
            <h4>
              <span>Notifications</span>
            </h4>
            
            <ul class="list-unstyled">
              <li>
                <input type="checkbox" class="cbr cbr-primary" checked="checked" id="sp-chk1" />
                <label for="sp-chk1">Messages</label>
              </li>
              <li>
                <input type="checkbox" class="cbr cbr-primary" checked="checked" id="sp-chk2" />
                <label for="sp-chk2">Events</label>
              </li>
              <li>
                <input type="checkbox" class="cbr cbr-primary" checked="checked" id="sp-chk3" />
                <label for="sp-chk3">Updates</label>
              </li>
              <li>
                <input type="checkbox" class="cbr cbr-primary" checked="checked" id="sp-chk4" />
                <label for="sp-chk4">Server Uptime</label>
              </li>
            </ul>
          </div>
          
          <div class="links-block left-sep">
            <h4>
              <a href="#">
                <span>Help Desk</span>
              </a>
            </h4>
            
            <ul class="list-unstyled">
              <li>
                <a href="#">
                  <i class="fa-angle-right"></i>
                  Support Center
                </a>
              </li>
              <li>
                <a href="#">
                  <i class="fa-angle-right"></i>
                  Submit a Ticket
                </a>
              </li>
              <li>
                <a href="#">
                  <i class="fa-angle-right"></i>
                  Domains Protocol
                </a>
              </li>
              <li>
                <a href="#">
                  <i class="fa-angle-right"></i>
                  Terms of Service
                </a>
              </li>
            </ul>
          </div>
          
        </div>
        
      </div>
    
    </div>
    
  </div>
  
  <div class="page-container">
    <div class="sidebar-menu toggle-others fixed">
    
      <div class="sidebar-menu-inner">
        
        <header class="logo-env">
    
          <!-- logo -->
          <div class="logo">
            <a href="/" class="logo-expanded">
              <img src="assets/images/logo@2x.png" width="80" alt="" />
            </a>
    
            <a href="#" class="logo-collapsed">
              <img src="assets/images/logo-collapsed@2x.png" width="40" alt="" />
            </a>
          </div>
    
          <!-- This will toggle the mobile menu and will be visible only on mobile devices -->
          <div class="mobile-menu-toggle visible-xs">
            <a href="#" data-toggle="user-info-menu">
             <i class="fa-angle-down"></i>
            </a>
    
            <a href="#" data-toggle="mobile-menu">
              <i class="fa-bars"></i>
            </a>
          </div>
          
        </header>
        
        
            
        <ul id="main-menu" class="main-menu">

          <li class="opened active">
            <a href="extra-gallery.html">
              <i class="linecons-beaker"></i>
              <span class="title">Dashboard</span>
              <span class="label label-purple pull-right hidden-collapsed">New!!</span>
            </a>
            <ul>
              <li class="active">
                <a href="#">
                  <span class="title">Map Dashboard</span>
                </a>
              </li>
              <li>
                <a href="#">
                  <span class="title">HeatMap</span>
                  <span class="label label-pink pull-right hidden-collapsed">Soon!</span>
                </a>
              </li>

              </li> 
            </ul>
          </li>

        </ul>
        
      </div>
    
    </div>
  
    <div class="main-content">
          
      <nav class="navbar user-info-navbar"  role="navigation">
        <ul class="user-info-menu left-links list-inline list-unstyled">
      
          <li class="hidden-sm hidden-xs">
            <a href="#" data-toggle="sidebar">
              <i class="fa-bars"></i>
            </a>

          </li>
          <li><br><br>
            <input id="toggle-event" type="checkbox" checked data-toggle="toggle" data-on="Short" data-off="Safe">

          </li>
      
          <li class="dropdown hover-line">

      
            <ul class="dropdown-menu messages">
              <li>
                
                <ul class="dropdown-menu-list list-unstyled ps-scrollbar">
              
                  <li class="active"><!-- "active" class means message is unread -->
                    <a href="#">
                      <span class="line">
                        <strong>Luc Chartier</strong>
                        <span class="light small">- yesterday</span>
                      </span>
              
                      <span class="line desc small">
                        This ain’t our first item, it is the best of the rest.
                      </span>
                    </a>
                  </li>
              
                  <li class="active">
                    <a href="#">
                      <span class="line">
                        <strong>Salma Nyberg</strong>
                        <span class="light small">- 2 days ago</span>
                      </span>
              
                      <span class="line desc small">
                        Oh he decisively impression attachment friendship so if everything.
                      </span>
                    </a>
                  </li>
              
                  <li>
                    <a href="#">
                      <span class="line">
                        Hayden Cartwright
                        <span class="light small">- a week ago</span>
                      </span>
              
                      <span class="line desc small">
                        Whose her enjoy chief new young. Felicity if ye required likewise so doubtful.
                      </span>
                    </a>
                  </li>
              
                  <li>
                    <a href="#">
                      <span class="line">
                        Sandra Eberhardt
                        <span class="light small">- 16 days ago</span>
                      </span>
              
                      <span class="line desc small">
                        On so attention necessary at by provision otherwise existence direction.
                      </span>
                    </a>
                  </li>
              
                  <!-- Repeated -->
              
                  <li class="active"><!-- "active" class means message is unread -->
                    <a href="#">
                      <span class="line">
                        <strong>Luc Chartier</strong>
                        <span class="light small">- yesterday</span>
                      </span>
              
                      <span class="line desc small">
                        This ain’t our first item, it is the best of the rest.
                      </span>
                    </a>
                  </li>
              
                  <li class="active">
                    <a href="#">
                      <span class="line">
                        <strong>Salma Nyberg</strong>
                        <span class="light small">- 2 days ago</span>
                      </span>
              
                      <span class="line desc small">
                        Oh he decisively impression attachment friendship so if everything.
                      </span>
                    </a>
                  </li>
              
                  <li>
                    <a href="#">
                      <span class="line">
                        Hayden Cartwright
                        <span class="light small">- a week ago</span>
                      </span>
              
                      <span class="line desc small">
                        Whose her enjoy chief new young. Felicity if ye required likewise so doubtful.
                      </span>
                    </a>
                  </li>
              
                  <li>
                    <a href="#">
                      <span class="line">
                        Sandra Eberhardt
                        <span class="light small">- 16 days ago</span>
                      </span>
              
                      <span class="line desc small">
                        On so attention necessary at by provision otherwise existence direction.
                      </span>
                    </a>
                  </li>
              
                </ul>
              
              </li>
              
              <li class="external">
                <a href="mailbox-main.html">
                  <span>All Messages</span>
                  <i class="fa-link-ext"></i>
                </a>
              </li>
            </ul>
          </li>
      
          <li class="dropdown hover-line">

      
            <ul class="dropdown-menu notifications">
              <li class="top">
                <p class="small">
                  <a href="#" class="pull-right">Mark all Read</a>
                  You have <strong>3</strong> new notifications.
                </p>
              </li>
              
              <li>
                <ul class="dropdown-menu-list list-unstyled ps-scrollbar">
                  <li class="active notification-success">
                    <a href="#">
                      <i class="fa-user"></i>
                      
                      <span class="line">
                        <strong>New user registered</strong>
                      </span>
                      
                      <span class="line small time">
                        30 seconds ago
                      </span>
                    </a>
                  </li>
                  
                  <li class="active notification-secondary">
                    <a href="#">
                      <i class="fa-lock"></i>
                      
                      <span class="line">
                        <strong>Privacy settings have been changed</strong>
                      </span>
                      
                      <span class="line small time">
                        3 hours ago
                      </span>
                    </a>
                  </li>
                  
                  <li class="notification-primary">
                    <a href="#">
                      <i class="fa-thumbs-up"></i>
                      
                      <span class="line">
                        <strong>Someone special liked this</strong>
                      </span>
                      
                      <span class="line small time">
                        2 minutes ago
                      </span>
                    </a>
                  </li>
                  
                  <li class="notification-danger">
                    <a href="#">
                      <i class="fa-calendar"></i>
                      
                      <span class="line">
                        John cancelled the event
                      </span>
                      
                      <span class="line small time">
                        9 hours ago
                      </span>
                    </a>
                  </li>
                  
                  <li class="notification-info">
                    <a href="#">
                      <i class="fa-database"></i>
                      
                      <span class="line">
                        The server is status is stable
                      </span>
                      
                      <span class="line small time">
                        yesterday at 10:30am
                      </span>
                    </a>
                  </li>
                  
                  <li class="notification-warning">
                    <a href="#">
                      <i class="fa-envelope-o"></i>
                      
                      <span class="line">
                        New comments waiting approval
                      </span>
                      
                      <span class="line small time">
                        last week
                      </span>
                    </a>
                  </li>
                </ul>
              </li>
              
              <li class="external">
                <a href="#">
                  <span>View all notifications</span>
                  <i class="fa-link-ext"></i>
                </a>
              </li>
            </ul>
          </li>
      
            </ul>
          </li>
        </ul>
      
      
        <!-- Right links for user info navbar -->
        <ul class="user-info-menu right-links list-inline list-unstyled">
            
      
          </li>
      

          <li class="dropdown user-profile">

            <div id="google_translate_element" style="padding-top: 17%;"></div>
      
            <ul class="dropdown-menu user-profile-menu list-unstyled">
              <li>
                <a href="#edit-profile">
                  <i class="fa-edit"></i>
                  New Post
                </a>
              </li>
              <li>
                <a href="#settings">
                  <i class="fa-wrench"></i>
                  Settings
                </a>
              </li>
              <li>
                <a href="#profile">
                  <i class="fa-user"></i>
                  Profile
                </a>
              </li>
              <li>
                <a href="#help">
                  <i class="fa-info"></i>
                  Help
                </a>
              </li>
              <li class="last">
                <a href="extra-lockscreen.html">
                  <i class="fa-lock"></i>
                  Logout
                </a>
              </li>
            </ul>
          </li>
      
          <li>
            <a href="#" data-toggle="chat">
              <!-- <i class="fa-comments-o"></i> -->
            </a>
          </li>
      
        </ul>
      
      </nav>
      
      
      <!-- Search Page -->
      <section class="search-env" >
        
        <div class="row">
          <div class="col-md-12">
            
            
            <!-- Google Maps -->

            <input id="origin-input" class="controls" type="text"
       placeholder="Enter an origin location">

<input id="destination-input" class="controls" type="text"
       placeholder="Enter a destination location">

<div id="map"></div>

<script>
    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">
    
    var apiGeolocationSuccess = function(position) {
          console.log("API Geo Location!", position);
          initMap(position);
        };

        // <!-- INSERT API KEY -->
        var tryAPIGeolocation = function() {
          jQuery.post( "https://www.googleapis.com/geolocation/v1/geolocate?key=YOUR_API_KEY", function(success) {
            apiGeolocationSuccess({coords: {latitude: success.location.lat, longitude: success.location.lng}});
          })
          .fail(function(err) {
            alert("API Geolocation error! Please check your API KEY!! \n\n"+err);
          });
        };

        var browserGeolocationSuccess = function(position) {
          // alert("Browser geolocation success!\n\nlat = " + position.coords.latitude + "\nlng = " + position.coords.longitude);
          console.info("Browser Geo Location!");
          initMap(position);
        };

        var browserGeolocationFail = function(error) {
          switch (error.code) {
            case error.TIMEOUT:
              console.log("Browser geolocation error !\n\nTimeout.");
              tryAPIGeolocation();
              break;
            case error.PERMISSION_DENIED:
              if(error.message.indexOf("Only secure origins are allowed") == 0) {
                tryAPIGeolocation();
              }
              break;
            case error.POSITION_UNAVAILABLE:
              console.error("Browser geolocation error !\n\nPosition unavailable.");
              tryAPIGeolocation();
              break;
            default:
              tryAPIGeolocation();
              break;
          }
        };


clearMarkerArray = [];
clearCircleArray= [];
    function createMarker(map,markerPosition,title, count){
        // clearMarkerArray = [];
        var marker = new google.maps.Marker({
            position: markerPosition,
            icon: icons[title],
            map: map,
            title: title
        });
        clearMarkerArray.push(marker);

        // map.setMap(null);

        var color;
        if(title == 'Police') {
            color = '#FF0000 ';
        } else{
            color = ' #0000ff';
        }
        
        var cityCircle = new google.maps.Circle({
                strokeColor: color,
                strokeOpacity: 0.3,
                strokeWeight: 0,
                fillColor: color,
                fillOpacity: 0.10,
                map: map,
                center: markerPosition,
                radius: 100
            });
        clearCircleArray.push(cityCircle);

        var contentString = count + ' person(s) reported this.';

       var infowindow = new google.maps.InfoWindow({
           content: contentString
       });

      if(title == 'Police') {
                   marker.addListener('click', function () {
                       infowindow.open(map, marker);
                   });
               }
    }


    function initialize(){

        if (navigator.geolocation) {
          navigator.geolocation.getCurrentPosition(
            browserGeolocationSuccess,
            browserGeolocationFail,
            {maximumAge: 50000, timeout: 20000, enableHighAccuracy: true});
        } else {
            x.innerHTML = "Geolocation is not supported by this browser.";
        }
    };

    var icons = {
        Police: '/images/blue.png',
        User: '/images/confirmed.svg'

    };
    state = true;
    function showPolice(myPos, wantMarkers, cb){


        var mydata = {  "position": myPos.coords.latitude + "," + myPos.coords.longitude,
            "radius": "10000",
            "caller_id":"115921882:AAEBEP9A_ZGc2XbKXnXP4IO4jvWhLZMlqJI"
        };
        var policeObjects = [];
        $.ajax({
            type: "Post",
            url: "/getPoliceLocations",
            processData: false,
            contentType: 'application/json',
            data: JSON.stringify(mydata),
            datatype: 'json',
            success: function(resp) {
                var r=(JSON).parse(resp);
                var policePosition;
                var policeLat,policeLong;
                var policeArr;
                var up_count;
                for(var i=0;i<r.results.length;i++)
                {
                    policeArr = r.results[i].fields.position.split(",");
                    up_count = r.results[i].fields.recent_up_report_count.toString();
                    policePosition = {lat: Number(policeArr[0]), lng: Number(policeArr[1])};
                    policeObjects.push(new google.maps.LatLng(policePosition.lat,policePosition.lng));
                    if(wantMarkers)
                        createMarker(map,policePosition,'Police', up_count);
                }
                cb(policeObjects);
            }
        });
    }

function debounce(func, wait, immediate) {
  var timeout;
  return function() {
    var context = this, args = arguments;
    var later = function() {
      timeout = null;
      if (!immediate) func.apply(context, args);
    };
    var callNow = immediate && !timeout;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
    if (callNow) func.apply(context, args);
  };
};

    function initMap(position) {
        var myLatLng = {lat: position.coords.latitude, lng: position.coords.longitude};
        map = new google.maps.Map(document.getElementById('map'), {
            center: myLatLng,
            mapTypeControlOptions: {
                mapTypeIds: []
              },
            zoom: 15,
          styles: [
                      {
                        featureType: "all",
                        elementType: "all",
                        stylers: [
                          { saturation: -100 } // <-- THIS
                        ]
                      }
                  ]
        });
       
        map.addListener("center_changed", debounce(removeMarkers, 250));
        
        createMarker(map,myLatLng,'User');

        showPolice(position,true,function cb(returnedData){});;

        var origin_place_id = null;
        var destination_place_id = null;
        var travel_mode = 'WALKING';

        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        directionsDisplay.setMap(map);

        var origin_input = document.getElementById('origin-input');
        var destination_input = document.getElementById('destination-input');
        var modes = document.getElementById('mode-selector');

        map.controls[google.maps.ControlPosition.TOP_LEFT].push(origin_input);
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(destination_input);
        map.controls[google.maps.ControlPosition.TOP_LEFT].push(modes);

        var origin_autocomplete = new google.maps.places.Autocomplete(origin_input);
        origin_autocomplete.bindTo('bounds', map);
        var destination_autocomplete =
                new google.maps.places.Autocomplete(destination_input);
        destination_autocomplete.bindTo('bounds', map);

        // Sets a listener on a radio button to change the filter type on Places
        // Autocomplete.
      

        function expandViewportToFitPlace(map, place) {
            if (place.geometry.viewport) {
                map.fitBounds(place.geometry.viewport);
            } else {
                map.setCenter(place.geometry.location);
                map.setZoom(17);
            }
        }

        origin_autocomplete.addListener('place_changed', function() {
            var place = origin_autocomplete.getPlace();
            if (!place.geometry) {
                window.alert("Autocomplete's returned place contains no geometry");
                return;
            }
            expandViewportToFitPlace(map, place);

            // If the place has a geometry, store its place ID and route if we have
            // the other place ID
            origin_place_id = place.place_id;
            route(origin_place_id, destination_place_id, travel_mode,
                    directionsService, directionsDisplay);
        });

        destination_autocomplete.addListener('place_changed', function() {
            var place = destination_autocomplete.getPlace();
            if (!place.geometry) {
                window.alert("Autocomplete's returned place contains no geometry");
                return;
            }
            expandViewportToFitPlace(map, place);

            // If the place has a geometry, store its place ID and route if we have
            // the other place ID
            destination_place_id = place.place_id;
            route(origin_place_id, destination_place_id, travel_mode,
                    directionsService, directionsDisplay);
        });
        $(function() {
          $('#toggle-event').change(function() {
              state = $(this).prop('checked');
              route(origin_place_id, destination_place_id, travel_mode,
                            directionsService, directionsDisplay);
          })
        })

        function route(origin_place_id, destination_place_id, travel_mode,
                       directionsService, directionsDisplay) {
            if (!origin_place_id || !destination_place_id) {
                return;
            }
            directionsService.route({
            origin: {'placeId': origin_place_id},
            destination: {'placeId': destination_place_id},
            travelMode: travel_mode,
            provideRouteAlternatives: true
        }, function(response, status) {
            if (status === 'OK') {
                var myLatArray = [];
                var myPolyArray = [];
                for(var k=0;k<response.routes.length;k++) {
                    myLatArray = [];
                    for (var i = 0; i < response.routes[k].legs[0].steps.length; i++) {
                        for (var j = 0; j < response.routes[k].legs[0].steps[i].lat_lngs.length; j++) {
                            myLatArray.push(new google.maps.LatLng(response.routes[k].legs[0].steps[i].lat_lngs[j].lat(), response.routes[k].legs[0].steps[i].lat_lngs[j].lng()));
                        }
                    }
                    myPolyArray.push(new google.maps.Polyline({
                        path: myLatArray
                    }));
                }

                var strtln = {coords:{latitude:response.routes[0].legs[0].start_location.lat(), longitude:response.routes[0].legs[0].start_location.lng()}};
                showPolice(strtln,false,function cb(returnedPolices){
                    var polices = returnedPolices;
                    console.dir(polices);
                    var sum = 0; var allRoutes = []; var minIndex;
                    for(var q=0;q<myPolyArray.length;q++){
                        sum = 0;
                        for(var p=0;p<polices.length;p++){
                            if (google.maps.geometry.poly.isLocationOnEdge(polices[p], myPolyArray[q], 10e-4)) {
                                sum++;
                            }
                        }
                        allRoutes.push(sum);
                        if(minIndex == undefined)
                            minIndex = q;
                        else if(sum < allRoutes[minIndex])
                            minIndex = q;
                    }
                    console.log(allRoutes);
                    if(minIndex != 0 && state == false)
                        response.routes.splice(0, minIndex);
                    directionsDisplay.setDirections(response);
                });
            } else {
                window.alert('Directions request failed due to ' + status);
            }
        });
        }
    }

    function removeMarkers(){
      console.info("Removing Markers");
      var lat = map.getCenter().lat();
      var lng = map.getCenter().lng();
      var myPos = {
        coords: {}
      };
      myPos.coords.latitude = lat;
      myPos.coords.longitude = lng;
      console.log(myPos);
      destroyMarker();
      showPolice(myPos,true,function cb(){});
    }

    function destroyMarker(){
      for(var i=0; i<clearMarkerArray.length; i++){
          clearMarkerArray[i].setMap(null);
          clearCircleArray[i].setMap(null);
      }
      clearMarkerArray = [];
      clearCircleArray = [];
      
    }

</script>

          </div>
        </div>
        
      </section>
      <!-- Main Footer -->
      <!-- Choose between footer styles: "footer-type-1" or "footer-type-2" -->
      <!-- Add class "sticky" to  always stick the footer to the end of page (if page contents is small) -->
      <!-- Or class "fixed" to  always fix the footer to the end of page -->
      <footer class="main-footer sticky footer-type-1">
        
        <div class="footer-inner">
        
        
          <!-- Add your copyright text here -->
          <div class="footer-text">
            &copy; 2016 Paypal Hackathon 
            <strong>CallStack Overflow()</strong> 


            <script type="text/javascript">
            function googleTranslateElementInit(lang) {
              new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'ar,fa', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
            }
            </script>
            <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
          </div>
          
          
          <!-- Go to Top Link, just add rel="go-top" to any link to add this functionality -->
          <div class="go-up">
          
            <a href="#" rel="go-top">
              
            </a>
            
          </div>
          
        </div>
        
      </footer>
    </div>
  
      
    <div id="chat" class="fixed"><!-- start: Chat Section -->
      
      <div class="chat-inner">
      
        
        <h2 class="chat-header">
          <a  href="#" class="chat-close" data-toggle="chat">
            <i class="fa-plus-circle rotate-45deg"></i>
          </a>
          
         


          <span class="badge badge-success is-hidden">0</span>
        </h2>
        
        <script type="text/javascript">
        // Here is just a sample how to open chat conversation box
        jQuery(document).ready(function($)
        {
          var $chat_conversation = $(".chat-conversation");
          
          $(".chat-group a").on('click', function(ev)
          {
            ev.preventDefault();
            
            $chat_conversation.toggleClass('is-open');
            
            $(".chat-conversation textarea").trigger('autosize.resize').focus();
          });
          
          $(".conversation-close").on('click', function(ev)
          {
            ev.preventDefault();
            $chat_conversation.removeClass('is-open');
          });
        });
        </script>
      </div>
      
    <!-- end: Chat Section -->
    </div>
  
  </div>
  
  <!-- End: Footer Sticked Chat -->
  </div>

  <!-- Bottom Scripts -->
  <script src="assets/js/bootstrap.min.js"></script>
  <script src="assets/js/TweenMax.min.js"></script>
  <script src="assets/js/resizeable.js"></script>
  <script src="assets/js/joinable.js"></script>
  <script src="assets/js/xenon-api.js"></script>
  <script src="assets/js/xenon-toggles.js"></script>


  <!-- JavaScripts initializations and stuff -->
  <script src="assets/js/xenon-custom.js"></script>


<!-- INSERT API KEY2 -->
  <script src="http://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places,geometry&callback=initialize"
        async defer></script>
<script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>
 
<script>

</script>

</body>
</html>